<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Spelling Flashcards</title>
  <style>
    body { font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif; margin: 0; background: #f6f7fb; }
    .wrap { max-width: 820px; margin: 0 auto; padding: 20px; }
    .card { background: white; border-radius: 18px; padding: 28px; box-shadow: 0 10px 25px rgba(0,0,0,.08); min-height: 220px; display: flex; flex-direction: column; gap: 14px; }
    h1 { margin: 10px 0 18px; font-size: 20px; color: #222; }
    .word { font-size: 44px; font-weight: 800; letter-spacing: .2px; }
    .meta { color: #555; font-size: 14px; }
    .controls { display: flex; flex-wrap: wrap; gap: 10px; margin-top: 14px; }
    button, select, input { border-radius: 12px; border: 1px solid #d8dbe6; background: #fff; padding: 10px 14px; font-size: 14px; cursor: pointer; }
    button.primary { background: #111827; color: white; border-color: #111827; }
    button:disabled { opacity: .5; cursor: not-allowed; }
    .row { display: flex; flex-wrap: wrap; gap: 10px; align-items: center; }
    .spacer { flex: 1; }
    .small { font-size: 12px; color: #666; }
    .input { width: 100%; min-height: 110px; font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace; }
    details { background: #eef1fb; border-radius: 14px; padding: 10px 12px; }
    a { color: #1f4ed8; text-decoration: none; }
    a:hover { text-decoration: underline; }
  </style>
</head>
<body>
  <div class="wrap">
    <h1>Spelling Flashcards (with pronunciation links)</h1>

    <div class="card">
      <div class="row">
        <div class="meta" id="counter">0 / 0</div>
        <div class="spacer"></div>
        <label class="small">Mode:</label>
        <select id="mode">
          <option value="show">Show word</option>
          <option value="hide">Hide word (quiz)</option>
        </select>
        <button id="shuffleBtn">Shuffle</button>
      </div>

      <div id="wordArea">
        <div class="word" id="word">—</div>
      </div>

      <div class="row">
        <button class="primary" id="revealBtn">Reveal</button>
        <button id="prevBtn">Back</button>
        <button id="nextBtn" class="primary">Next</button>
        <div class="spacer"></div>
        <button id="pronounceBtn">Pronunciation</button>
        <a id="pronounceLink" href="#" target="_blank" rel="noreferrer">(open)</a>
      </div>

      <div class="row">
        <div class="small" id="hint"></div>
      </div>

      <details>
        <summary><b>Edit word list</b> (paste one word per line)</summary>
        <p class="small">Tip: you can paste your Three Bee list, or combine all levels.</p>
        <textarea id="wordList" class="input"></textarea>
        <div class="controls">
          <button id="loadBtn" class="primary">Load List</button>
          <button id="resetBtn">Reset to default</button>
        </div>
      </details>

    </div>

  </div>

  <script>
    // Default list: paste your words here (one per line). You can replace anytime in the UI.
    const DEFAULT_WORDS = `gangly
swaggering
chimneys
riveted
plaid
dirge
zeal
whittled
depots
fiberglass
salvaged
fissures
enthusiastic
discipline
unfamiliar
scurrying
dignitaries
pizzeria
dismissal
skittish
careened
nomination
opportunist
dictatorship
comrades
sporadic
promenade
repugnant
invincible
renowned
parachute
laborious
appointment
foreseeable
ratify
scalpel
reclusive
compassionate
bulletin
alfalfa
officially
crematorium
bayonet
amicable
exuberant
beautician
equations
assignment
ultimatum
whinnying
squalor
memoirs
cylinders
ominous
muffler
syndrome
premises
safari
lasagna
substantially
mercantile
formidable
propaganda
marquee
proficient
compunction
emphatically
hyperventilated
ostracism
onslaught
ruefully
misanthrope
prototype
cravenly
mulberry
hypocritical
chlorine
traumatic
receipts
solemnly
begrudge
contentious
precocious
ensemble
cadre
lye
belfry
lacrosse
sluice
cajolery
vigilance
residuals
boutique
peroxide
aristocracy
apocalypse`.trim();

    const els = {
      counter: document.getElementById("counter"),
      word: document.getElementById("word"),
      mode: document.getElementById("mode"),
      revealBtn: document.getElementById("revealBtn"),
      prevBtn: document.getElementById("prevBtn"),
      nextBtn: document.getElementById("nextBtn"),
      shuffleBtn: document.getElementById("shuffleBtn"),
      pronounceBtn: document.getElementById("pronounceBtn"),
      pronounceLink: document.getElementById("pronounceLink"),
      hint: document.getElementById("hint"),
      wordList: document.getElementById("wordList"),
      loadBtn: document.getElementById("loadBtn"),
      resetBtn: document.getElementById("resetBtn"),
      wordArea: document.getElementById("wordArea"),
    };

    let words = [];
    let idx = 0;
    let revealed = true;

    function normalizeWord(w) {
      return w.trim().replace(/\s+/g, " ");
    }

    function loadWordsFromText(text) {
      const list = text.split("\n")
        .map(normalizeWord)
        .filter(Boolean);

      // de-dup while keeping order
      const seen = new Set();
      words = list.filter(w => (seen.has(w) ? false : (seen.add(w), true)));

      idx = 0;
      revealed = true;
      render();
    }

    function wiktionaryUrl(word) {
      return "https://en.wiktionary.org/wiki/" + encodeURIComponent(word);
    }

    function googleDefineUrl(word) {
      return "https://www.google.com/search?q=" + encodeURIComponent("define " + word);
    }

    function setPronounceLinks(word) {
      const wUrl = wiktionaryUrl(word);
      els.pronounceLink.href = wUrl;
      els.pronounceLink.textContent = "(open)";
      els.pronounceBtn.onclick = () => window.open(wUrl, "_blank", "noopener,noreferrer");
      els.hint.innerHTML = `Pronunciation: <a href="${wUrl}" target="_blank" rel="noreferrer">Wiktionary</a> • <a href="${googleDefineUrl(word)}" target="_blank" rel="noreferrer">Google define</a>`;
    }

    function render() {
      if (words.length === 0) {
        els.word.textContent = "—";
        els.counter.textContent = "0 / 0";
        els.prevBtn.disabled = true;
        els.nextBtn.disabled = true;
        els.revealBtn.disabled = true;
        return;
      }

      const mode = els.mode.value;
      const current = words[idx];

      els.counter.textContent = `${idx + 1} / ${words.length}`;
      els.prevBtn.disabled = idx === 0;
      els.nextBtn.disabled = idx === words.length - 1;
      els.revealBtn.disabled = (mode === "show");

      if (mode === "show") {
        els.word.textContent = current;
      } else {
        els.word.textContent = revealed ? current : "••••••••";
      }

      setPronounceLinks(current);
    }

    function next() {
      if (idx < words.length - 1) {
        idx++;
        revealed = (els.mode.value === "show");
        render();
      }
    }

    function prev() {
      if (idx > 0) {
        idx--;
        revealed = (els.mode.value === "show");
        render();
      }
    }

    function shuffle() {
      for (let i = words.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [words[i], words[j]] = [words[j], words[i]];
      }
      idx = 0;
      revealed = (els.mode.value === "show");
      render();
    }

    els.nextBtn.addEventListener("click", next);
    els.prevBtn.addEventListener("click", prev);
    els.shuffleBtn.addEventListener("click", shuffle);

    els.revealBtn.addEventListener("click", () => {
      revealed = true;
      render();
    });

    els.mode.addEventListener("change", () => {
      revealed = (els.mode.value === "show");
      render();
    });

    els.loadBtn.addEventListener("click", () => {
      loadWordsFromText(els.wordList.value);
    });

    els.resetBtn.addEventListener("click", () => {
      els.wordList.value = DEFAULT_WORDS;
      loadWordsFromText(DEFAULT_WORDS);
    });

    window.addEventListener("keydown", (e) => {
      if (e.key === "ArrowRight") next();
      if (e.key === "ArrowLeft") prev();
      if (e.key.toLowerCase() === "r" && els.mode.value === "hide") { revealed = true; render(); }
      if (e.key.toLowerCase() === "s") shuffle();
    });

    // Init
    els.wordList.value = DEFAULT_WORDS;
    loadWordsFromText(DEFAULT_WORDS);
  </script>
</body>
</html>